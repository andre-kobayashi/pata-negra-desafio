<IfModule mod_rewrite.c>
  RewriteEngine On

  # NÃO reescrever arquivos estáticos
  RewriteRule ^assets/ - [L]
  RewriteRule ^favicon\.ico$ - [L]
  RewriteRule ^site\.webmanifest$ - [L]
  RewriteRule ^apple-touch-icon\.png$ - [L]
  RewriteRule \.(js|css|png|jpg|jpeg|svg|webp|ico|woff2?)$ - [L]

  # SPA fallback
  RewriteRule ^ index.html [L]
</IfModule>

<IfModule mod_headers.c>
  # Forçar MIME types corretos
  AddType application/javascript .js
  AddType text/css .css

  # Cache forte apenas para assets
  <FilesMatch "\.(js|css|png|jpg|jpeg|svg|webp|ico|woff2?)$">
    Header set Cache-Control "public, max-age=31536000, immutable"
  </FilesMatch>
</IfModule>
